@model KPIMonitor.Models.KpiYearPlan
@{
    ViewData["Title"] = "Activate Year Plan";
}
<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card shadow rounded-4 border-success">
        <div class="card-header bg-white border-bottom border-success">
          <h4 class="mb-0 text-dark fw-bold">✅ Activate KPI Year Plan</h4>
        </div>
        <div class="card-body">
          <div class="alert alert-info rounded-4">Activate this year plan?</div>

          <dl class="row">
            <dt class="col-sm-3">Year</dt>
            <dd class="col-sm-9">@Model.Period?.Year</dd>
            <dt class="col-sm-3">KPI</dt>
            <dd class="col-sm-9">@((Model.Kpi != null) ? $"{Model.Kpi.KpiCode} — {Model.Kpi.KpiName}" : Model.KpiId.ToString())</dd>
            <dt class="col-sm-3">Frequency</dt>
            <dd class="col-sm-9">@Model.Frequency</dd>
            <dt class="col-sm-3">Target</dt>
            <dd class="col-sm-9">@Model.AnnualTarget</dd>
            <dt class="col-sm-3">Budget</dt>
            <dd class="col-sm-9">@Model.AnnualBudget</dd>
          </dl>

          <form asp-action="Activate" method="post">
            @Html.AntiForgeryToken()
            <input type="hidden" name="id" value="@Model.KpiYearPlanId" />
            <div class="mb-3">
              <label class="form-label fw-semibold">Last Changed By</label>
              <input name="lastChangedBy" class="form-control" maxlength="50" required />
            </div>

            <div class="d-flex gap-2">
              <button type="submit" class="btn btn-success btn-lg">Confirm Activate</button>
              <a class="btn btn-outline-secondary btn-lg" href="@Url.Action("Index", new { year = Model.Period?.Year })">Cancel</a>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

@section Scripts{
  @{ await Html.RenderPartialAsync("_ValidationScriptsPartial"); }
}