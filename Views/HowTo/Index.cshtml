@{
    ViewData["Title"] = "How To Use KPIMonitor";
}

<style>
    /* Stepper */
    .stepper {
        display: flex;
        align-items: center;
        gap: 16px;
        overflow-x: auto;
        padding: 12px 8px;
        scrollbar-width: thin;
    }
    .step {
        flex: 0 0 auto;
        min-width: 210px;
        text-align: center;
        background: #fff;
        border: 1px solid #e9ecef;
        border-radius: 14px;
        padding: .85rem .95rem;
        box-shadow: 0 2px 6px rgba(0, 0, 0, .04);
    }
    .step small { display: block; color: #6c757d; margin-bottom: .25rem; }
    .step--pill { min-width: 120px; font-weight: 700; }
    .connector { flex: 0 0 auto; color: #a6adb4; font-size: 22px; font-weight: 800; }

    /* Cards */
    .howto-card {
        border: 1px solid #eef0f3;
        border-radius: 12px;
        padding: 1rem 1.25rem;
        background: #fff;
        height: 100%;
    }

    /* Section headers */
    .howto-section-kicker {
        text-transform: uppercase;
        font-size: .8rem;
        font-weight: 700;
        color: #6c757d;
        letter-spacing: .06em;
        margin-bottom: .25rem;
    }
    .howto-section-title {
        display: flex; align-items: center; gap: .5rem;
        margin: .25rem 0 1rem 0;
        font-weight: 800;
        letter-spacing: .2px;
    }
</style>

@section Scripts { }

<div class="container py-4">
    @section PageHeader {
        <div class="page-hero" style="background-image:url('@Url.Content("~/images/pic1.jpg")')">
            <div class="page-hero-content">
                <h1 class="page-title">Workflow at a Glance</h1>
            </div>
        </div>
    }

    <div class="with-rails">

        <!-- ===================== Editor Section ===================== -->
        <div class="bg-white border rounded-4 p-3 mb-4">
            <div class="howto-section-kicker">Editor</div>
            <h2 class="howto-section-title">Select & Edit on the Dashboard</h2>

            <!-- Editor stepper (all on Dashboard) -->
            <div class="stepper mb-3">
                <div class="step step--pill">Start</div>
                <div class="connector">➔</div>

                <div class="step">
                    <small>On Dashboard</small>
                    <div class="fw-bold">Select Pillar</div>
                </div>
                <div class="connector">➔</div>

                <div class="step">
                    <small>On Dashboard</small>
                    <div class="fw-bold">Select Objective</div>
                </div>
                <div class="connector">➔</div>

                <div class="step">
                    <small>On Dashboard</small>
                    <div class="fw-bold">Select KPI</div>
                </div>
                <div class="connector">➔</div>

                <div class="step">
                    <small>On Dashboard</small>
                    <div class="fw-bold">Edit Data</div>
                </div>
                <div class="connector">➔</div>

                <div class="step step--pill">End</div>
            </div>

            <!-- Editor quick links (all point to Dashboard) -->
            <div class="row g-4">
                <div class="col-md-3">
                    <div class="howto-card h-100">
                        <div class="fw-bold mb-1">1. Select Pillar</div>
                        <div class="text-muted mb-3">Use the dropdown at the top.</div>
                        <a class="btn btn-outline-secondary" asp-controller="Home" asp-action="Index">Open Dashboard</a>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="howto-card h-100">
                        <div class="fw-bold mb-1">2. Select Objective</div>
                        <div class="text-muted mb-3">Dropdown filters update automatically.</div>
                        <a class="btn btn-outline-secondary" asp-controller="Home" asp-action="Index">Open Dashboard</a>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="howto-card h-100">
                        <div class="fw-bold mb-1">3. Select KPI</div>
                        <div class="text-muted mb-3">Pick the KPI you own or edit.</div>
                        <a class="btn btn-outline-secondary" asp-controller="Home" asp-action="Index">Open Dashboard</a>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="howto-card h-100">
                        <div class="fw-bold mb-1">4. Edit Data</div>
                        <div class="text-muted mb-3">Inline edit or open the fact row.</div>
                        <a class="btn btn-outline-secondary" asp-controller="Home" asp-action="Index">Open Dashboard</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- ===================== Owner Section ===================== -->
        <div class="bg-white border rounded-4 p-3 mb-4">
            <div class="howto-section-kicker">Owner</div>
            <h2 class="howto-section-title">Review & Track on the Dashboard</h2>

            <div class="stepper mb-3">
                <div class="step step--pill">Start</div>
                <div class="connector">➔</div>

                <div class="step">
                    <small>On Dashboard</small>
                    <div class="fw-bold">Select Pillar/Objective/KPI</div>
                </div>
                <div class="connector">➔</div>

                <div class="step">
                    <small>On Dashboard</small>
                    <div class="fw-bold">Review Facts</div>
                </div>
                <div class="connector">➔</div>

                <div class="step">
                    <small>On Dashboard</small>
                    <div class="fw-bold">Track vs Target</div>
                </div>
                <div class="connector">➔</div>

                <div class="step step--pill">End</div>
            </div>

            <div class="row g-4">
                <div class="col-md-4">
                    <div class="howto-card h-100">
                        <div class="fw-bold mb-1">1. Choose Filters</div>
                        <div class="text-muted mb-3">Pick pillar, objective, and KPI.</div>
                        <a class="btn btn-outline-secondary" asp-controller="Home" asp-action="Index">Open Dashboard</a>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="howto-card h-100">
                        <div class="fw-bold mb-1">2. Review KPI Facts</div>
                        <div class="text-muted mb-3">Check actuals, forecasts, and status.</div>
                        <a class="btn btn-outline-secondary" asp-controller="Home" asp-action="Index">Open Dashboard</a>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="howto-card h-100">
                        <div class="fw-bold mb-1">3. Track Progress</div>
                        <div class="text-muted mb-3">Compare against targets on charts.</div>
                        <a class="btn btn-outline-secondary" asp-controller="Home" asp-action="Index">Open Dashboard</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- ===================== Admin Section ===================== -->
        <section asp-admin-only>
            <div class="bg-white border rounded-4 p-3 mb-4">
                <div class="howto-section-kicker">Admin</div>
                <h2 class="howto-section-title">Catalog, Planning & Dashboard</h2>

                <div class="stepper">
                    <div class="step step--pill">Start</div>
                    <div class="connector">➔</div>

                    <div class="step">
                        <small>Catalog</small>
                        <div class="fw-bold">Create Pillar</div>
                    </div>
                    <div class="connector">➔</div>

                    <div class="step">
                        <small>Catalog</small>
                        <div class="fw-bold">Create Objective</div>
                    </div>
                    <div class="connector">➔</div>

                    <div class="step">
                        <small>Catalog</small>
                        <div class="fw-bold">Create KPI</div>
                    </div>
                    <div class="connector">➔</div>

                    <div class="step">
                        <small>Planning</small>
                        <div class="fw-bold">Create Periods</div>
                    </div>
                    <div class="connector">➔</div>

                    <div class="step">
                        <small>Planning</small>
                        <div class="fw-bold">Create KPI Year Plan</div>
                    </div>
                    <div class="connector">➔</div>

                    <div class="step">
                        <small>Planning</small>
                        <div class="fw-bold">Five-Year Targets</div>
                    </div>
                    <div class="connector">➔</div>

                    <div class="step">
                        <small>Monitoring</small>
                        <div class="fw-bold">Create KPI Facts</div>
                    </div>
                    <div class="connector">➔</div>

                    <div class="step">
                        <small>Dashboard</small>
                        <div class="fw-bold">Inline Edit Facts</div>
                    </div>
                    <div class="connector">➔</div>

                    <div class="step step--pill">End</div>
                </div>
            </div>

            <div class="row g-4">
                <div class="col-md-4">
                    <div class="howto-card h-100">
                        <div class="fw-bold mb-1">1. Create Pillar</div>
                        <div class="text-muted mb-3">Define strategic pillars.</div>
                        <a class="btn btn-outline-secondary" asp-controller="Pillars" asp-action="Index">Open Pillars</a>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="howto-card h-100">
                        <div class="fw-bold mb-1">2. Create Objective</div>
                        <div class="text-muted mb-3">Add objectives under a pillar.</div>
                        <a class="btn btn-outline-secondary" asp-controller="Objectives" asp-action="Index">Open Objectives</a>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="howto-card h-100">
                        <div class="fw-bold mb-1">3. Create KPI</div>
                        <div class="text-muted mb-3">Register KPIs under an objective.</div>
                        <a class="btn btn-outline-secondary" asp-controller="Kpis" asp-action="Index">Open KPIs</a>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="howto-card h-100">
                        <div class="fw-bold mb-1">4. Create Periods</div>
                        <div class="text-muted mb-3">Load months/quarters for each year.</div>
                        <a class="btn btn-outline-secondary" asp-controller="KpiPeriods" asp-action="Index">Open Periods</a>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="howto-card h-100">
                        <div class="fw-bold mb-1">5. Create KPI Year Plan</div>
                        <div class="text-muted mb-3">Select KPI, year, frequency, targets.</div>
                        <a class="btn btn-outline-secondary" asp-controller="KpiYearPlans" asp-action="Index">Open Year Plans</a>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="howto-card h-100">
                        <div class="fw-bold mb-1">6. Five-Year Targets</div>
                        <div class="text-muted mb-3">Enter 5-year targets for a KPI.</div>
                        <a class="btn btn-outline-secondary" asp-controller="KpiFiveYearTargets" asp-action="Index">Open Five-Year Targets</a>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="howto-card h-100">
                        <div class="fw-bold mb-1">7. Create KPI Facts</div>
                        <div class="text-muted mb-3">Enter actuals/forecasts per period.</div>
                        <a class="btn btn-outline-secondary" asp-controller="KpiFacts" asp-action="Index">Open KPI Facts</a>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="howto-card h-100">
                        <div class="fw-bold mb-1">8. Inline Edit (Dashboard)</div>
                        <div class="text-muted mb-3">Update values directly in place.</div>
                        <a class="btn btn-outline-secondary" asp-controller="Home" asp-action="Index">Open Dashboard</a>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="howto-card h-100">
                        <div class="fw-bold mb-1">9. RedBoard Presentation</div>
                        <div class="text-muted mb-3">Present KPIs that need attention.</div>
                        <a class="btn btn-outline-secondary" asp-controller="RedBoard" asp-action="Index">Open RedBoard</a>
                    </div>
                </div>
            </div>
        </section>

        <div class="alert alert-info mt-4 rounded-4">
            Tip: Editors and Owners work entirely from the Dashboard using the dropdowns. Admins manage catalog and planning on the pages above.
        </div>
    </div>
</div>
